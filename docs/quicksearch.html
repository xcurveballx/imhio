<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"DomReady.js.html":{"id":"DomReady.js.html","title":"Source: DomReady.js","body":" DocStrap Modules config Classes MailCheckerViewUpdater Global DomReady Source: DomReady.js /** * Creates and returns a promise that will resolve * once the DOM is ready. Based on document readyState property. * @function DomReady * @returns {Promise} Promise object */ export default function DomReady() { return new Promise((resolve, reject) =&gt; { if(document.readyState === 'interactive' || document.readyState === 'complete') { resolve(document.readyState); } document.onreadystatechange = function() { if (~['interactive', 'complete'].indexOf(document.readyState)) { resolve(document.readyState); document.onreadystatechange = null; } } }); } × Search results Close "},"MailChecker.js.html":{"id":"MailChecker.js.html","title":"Source: MailChecker.js","body":" DocStrap Modules config Classes MailCheckerViewUpdater Global DomReady Source: MailChecker.js export default class MailChecker { /** * @constructs MailChecker * @description MailChecker provides us with functionality to * make requests to mailboxlayer.com API in order to check * the emails inserted by users. * @param {object} config with settings, described in * separate file config.js. * @param {class} ViewUpdater class responsible for updating the page * will be created as instance variable of MailChecker instance. */ constructor(config, ViewUpdater) { this.config = config; this.view = new ViewUpdater(this.config.rootId); this.setEventHandler('click'); } /** * Sets event listener, passes results to the view &amp; wires everything up. * @function setEventHandler * @memberof MailChecker * @instance * @param {string} eventName the name of an event, in our case 'click' * @returns {void} */ setEventHandler(eventName) { this.view.btn.addEventListener(eventName, () =&gt; { this.sendRequest() .then((res) =&gt; { if(res) { if(res.format_valid === true) { this.view.success(this.config.successMsg, res); } else if(res.format_valid === false) { this.view.failure(this.config.failureMsg, res); } else { this.view.error(new Error(this.config.serviceErrMsg)); } } }) .catch(err =&gt; this.view.error(err)); } ); } /** * Sends the request to the API. * @function sendRequest * @memberof MailChecker * @instance * @returns {Promise} Promise object with the request result to come. */ sendRequest() { let email = this.isEmailProvided(); if(!email) { this.view.error(new Error(this.config.missingEmailMsg)); return Promise.resolve(); } else { this.view.loading(); let endPoint = `${this.config.url}?access_key=${this.config.access_key}&amp;email=${email}&amp;format=1`; return fetch(endPoint).then(response =&gt; response.json()); } } /** * Gets the inserted email from the form. * @function isEmailProvided * @memberof MailChecker * @instance * @returns {boolean|string} false, if no email, or inserted email. */ isEmailProvided() { return !!this.view.input.value.trim() ? this.view.input.value.trim() : false; } } × Search results Close "},"config.js.html":{"id":"config.js.html","title":"Source: config.js","body":" DocStrap Modules config Classes MailCheckerViewUpdater Global DomReady Source: config.js /** * App config, just plain object. * @exports config * @property {string} config.access_key my access key to use the API. * @property {string} config.url an url pointing to the service API. * @property {string} config.rootId name of the app root element on the page. * @property {string} config.successMsg successful email check message. * @property {string} config.failureMsg failed email check message. * @property {string} config.missingEmailMsg missing email message. * @property {string} config.serviceErrMsg API error message. */ export default { 'access_key': '222537cad765d0ba4fed55c99ec5f371', 'url': 'https://apilayer.net/api/check', 'rootId': 'EmailChecker', 'successMsg': 'The email you provided seems to be valid :) See the details below:', 'failureMsg': 'The email you provided seems to be invalid :( See the details below:', 'missingEmailMsg': 'You should enter an email to check!', 'serviceErrMsg': 'Something went wrong and the API is not available now! Try later.' }; × Search results Close "},"ViewUpdater.js.html":{"id":"ViewUpdater.js.html","title":"Source: ViewUpdater.js","body":" DocStrap Modules config Classes MailCheckerViewUpdater Global DomReady Source: ViewUpdater.js export default class ViewUpdater { /** * @constructs ViewUpdater * @description ViewUpdater is responsible for updating the page * according to the result of the request. Sets up all the page elements. * @param {string} [rootId=EmailChecker] id of the form */ constructor(rootId = 'EmailChecker') { this.root = document.getElementById(rootId); this.input = this.root.getElementsByTagName('input')[0], this.btn = this.root.getElementsByTagName('button')[2], this.btnSpinner = this.btn.getElementsByTagName('span')[0], this.btnTxt = this.btn.getElementsByTagName('span')[1]; this.alert = this.root.getElementsByTagName('div')[0]; this.alertMsg = this.alert.getElementsByTagName('span')[1]; this.posFeedback = this.root.getElementsByTagName('div')[2]; this.negFeedback = this.root.getElementsByTagName('div')[3]; } /** * Enforces initial page UI state. * @function initial * @memberof ViewUpdater * @instance * @returns {void} */ initial() { this.alert.classList.add(\"d-none\"); this.btnSpinner.classList.add(\"d-none\"); this.btnTxt.textContent = 'Check'; this.btn.removeAttribute(\"disabled\", \"disabled\"); this.posFeedback.classList.add(\"d-none\"); this.negFeedback.classList.add(\"d-none\"); this.input.removeAttribute(\"disabled\", \"disabled\"); this.input.classList.remove('is-invalid', 'is-valid'); //this.input.value = ''; } /** * Enforces loading page UI state. * @function loading * @memberof ViewUpdater * @instance * @returns {void} */ loading() { this.initial(); this.btnSpinner.classList.remove(\"d-none\"); this.btnTxt.textContent = 'Checking...'; this.btn.setAttribute(\"disabled\", \"disabled\"); this.input.setAttribute(\"disabled\", \"disabled\"); } /** * Enforces success page UI state. * @function success * @memberof ViewUpdater * @instance * @param {string} msg message to show in case of success. * @param {object} data service API response. * @returns {void} */ success(msg, data) { this.initial(); this.input.classList.add('is-valid'); this.posFeedback.innerHTML = `&lt;pre&gt;${msg} \\n ${JSON.stringify(data, null, 4)}&lt;/pre&gt;`; this.posFeedback.classList.remove(\"d-none\"); } /** * Enforces failure page UI state. * @function failure * @memberof ViewUpdater * @instance * @param {string} msg message to show in case of failure. * @param {object} data service API response. * @returns {void} */ failure(msg, data) { this.initial(); this.input.classList.add('is-invalid'); this.negFeedback.innerHTML = `&lt;pre&gt;${msg} \\n ${JSON.stringify(data, null, 4)}&lt;/pre&gt;`; this.negFeedback.classList.remove(\"d-none\"); } /** * Outputs JS error message. * @function error * @memberof ViewUpdater * @instance * @param {Error} error an error object. * @returns {void} */ error(error) { this.initial(); this.alert.classList.remove(\"d-none\"); this.alertMsg.textContent = `${error.name}: ${error.message}`; } }; × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" DocStrap Modules config Classes MailCheckerViewUpdater Global DomReady Global Methods DomReady() Creates and returns a promise that will resolve once the DOM is ready. Based on document readyState property. Source: DomReady.js, line 1 Returns: Promise object Type Promise × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" DocStrap Modules config Classes MailCheckerViewUpdater Global DomReady Modules Classes MailChecker ViewUpdater × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" DocStrap Modules config Classes MailCheckerViewUpdater Global DomReady Classes Classes MailChecker ViewUpdater × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" DocStrap Modules config Classes MailCheckerViewUpdater Global DomReady Test task for Software Developer position with Imhio This is a test task for Software Developer position with Imhio. 26/07/2019. How to check? clone the repo like git clone git@github.com:xcurveballx/imhio.git go to the imhio directory type in npm install (optionally, if you wish to run tests, for example) in the imhio folder open index.html in the browser make sure you have got an Internet connection and then play around with the UI documentation can be found in the docs folder, open index.html there tests can be run via npm run test with output in the console × Search results Close "},"MailChecker.html":{"id":"MailChecker.html","title":"Class: MailChecker","body":" DocStrap Modules config Classes MailCheckerViewUpdater Global DomReady Class: MailChecker MailChecker new MailChecker(config, ViewUpdater) MailChecker provides us with functionality to make requests to mailboxlayer.com API in order to check the emails inserted by users. Parameters: Name Type Description config object with settings, described in separate file config.js. ViewUpdater class class responsible for updating the page will be created as instance variable of MailChecker instance. Source: MailChecker.js, line 12 Methods isEmailProvided() Gets the inserted email from the form. Source: MailChecker.js, line 67 Returns: false, if no email, or inserted email. Type boolean | string sendRequest() Sends the request to the API. Source: MailChecker.js, line 45 Returns: Promise object with the request result to come. Type Promise setEventHandler(eventName) Sets event listener, passes results to the view &amp; wires everything up. Parameters: Name Type Description eventName string the name of an event, in our case 'click' Source: MailChecker.js, line 18 Returns: Type void × Search results Close "},"module-config.html":{"id":"module-config.html","title":"Module: config","body":" DocStrap Modules config Classes MailCheckerViewUpdater Global DomReady Module: config App config, just plain object. Properties: Name Type Description config.access_key string my access key to use the API. config.url string an url pointing to the service API. config.rootId string name of the app root element on the page. config.successMsg string successful email check message. config.failureMsg string failed email check message. config.missingEmailMsg string missing email message. config.serviceErrMsg string API error message. Source: config.js, line 13 × Search results Close "},"ViewUpdater.html":{"id":"ViewUpdater.html","title":"Class: ViewUpdater","body":" DocStrap Modules config Classes MailCheckerViewUpdater Global DomReady Class: ViewUpdater ViewUpdater new ViewUpdater( [rootId]) ViewUpdater is responsible for updating the page according to the result of the request. Sets up all the page elements. Parameters: Name Type Argument Default Description rootId string &lt;optional&gt; EmailChecker id of the form Source: ViewUpdater.js, line 8 Methods error(error) Outputs JS error message. Parameters: Name Type Description error Error an error object. Source: ViewUpdater.js, line 86 Returns: Type void failure(msg, data) Enforces failure page UI state. Parameters: Name Type Description msg string message to show in case of failure. data object service API response. Source: ViewUpdater.js, line 70 Returns: Type void initial() Enforces initial page UI state. Source: ViewUpdater.js, line 20 Returns: Type void loading() Enforces loading page UI state. Source: ViewUpdater.js, line 39 Returns: Type void success(msg, data) Enforces success page UI state. Parameters: Name Type Description msg string message to show in case of success. data object service API response. Source: ViewUpdater.js, line 54 Returns: Type void × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
